import{c as M,r as u,l as k,a as N,j as i}from"./index.js";/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],E=M("bookmark",L),$=o=>{const[s,r]=u.useState(0),[e,n]=u.useState(!1),[d,c]=u.useState(!0);return u.useEffect(()=>{const f=()=>{n(!1)},l=v=>{const a=v.code.slice(-1);if(!e){a==="1"&&o&&(n(!0),c(!1));return}if(d)return;if(v.key==="Escape"){if(s){r(0);return}n(!1);return}if(!/^[1-9]$/.test(a))return;const t=parseInt(a);if(!(t>k.length)){if(!s){r(t);return}window.location.href=N[k[s-1].links[t-1]]}};return window.addEventListener("keydown",l),window.addEventListener("click",f),()=>{window.removeEventListener("keydown",l),window.removeEventListener("click",f)}},[e,d,s,o]),u.useEffect(()=>{o||(n(!1),c(!1),r(0))},[o]),{selectedCategory:s,setSelectedCategory:r,isKeyboardNav:e,isMouseNav:d,startMouseNav:()=>{r(0),c(!0)},endMouseNav:()=>{d&&n(!1),c(!1)}}};function y({as:o="div",className:s="",children:r,icon:e=null,hotkey:n,isHotkeyHidden:d=!1,modifiers:c=[],...m}){const h=c.filter(Boolean).join(" "),f=`${s} ${h}`.trim();return i.jsxs(o,{className:f,...m,children:[e&&e,i.jsxs("p",{className:`hint ${d?"hidden":""}`,children:["[",n,"]"]}),i.jsx("span",{children:r})]})}function C({categoryData:o,index:s,selectedCategory:r,isMouseNav:e,keyboardNavEnabled:n,padding:d,highlightedLink:c}){const m=r===s+1,h=e||r||s+1>9||!n,f=[m&&"selected",e&&"hoverEffective"];return i.jsxs(u.Fragment,{children:[i.jsx(y,{className:"category",icon:o.icon,hotkey:s+1,isHotkeyHidden:!!h,modifiers:f,children:o.category}),i.jsxs("div",{className:`links ${e?"hoverEffective":""}`,style:{"--padding":d},children:[i.jsx("div",{className:"panel"}),o.links.map((l,v)=>{const a=!N[l],t=c===l,p=e||!r||v+1>9||a||!n,x=[a&&"disabled",e&&"hoverEffective",t&&"highlighted"];return i.jsx(y,{as:"a",id:l,href:N[l],className:"link",hotkey:v+1,isHotkeyHidden:!!p,modifiers:x,children:l},l)})]})]})}function K({hidden:o,keyboardNavEnabled:s=!0,highlightedLink:r,highlightedCategoryIdx:e,onClearSearch:n}){const{selectedCategory:d,setSelectedCategory:c,isKeyboardNav:m,isMouseNav:h,startMouseNav:f,endMouseNav:l}=$(s);u.useEffect(()=>{c(e||0)},[e,c]);const v=u.useMemo(()=>{const a=window.innerHeight,t=16,p=3.5*t;return k.map((x,H)=>{const j=a/2+(H+1-k.length/2-.5)*p,w=x.links.length*p;let g;return j+w/2<=a-t?g=j-w/2:g=a-w-t,g<t&&(g=t),g+"px"})},[window.innerHeight,k]);return i.jsxs("section",{role:"navigation",className:`link-tree ${o&&"hidden"} ${(m||d)&&"expanded"} ${h?"hoverEffective":""}`,onMouseMove:()=>{f(),n()},onClick:()=>{f(),n()},onTouchStart:()=>{f(),n()},onMouseOut:l,"aria-hidden":o,"aria-expanded":m,children:[i.jsxs("div",{className:"trigger",children:[i.jsx("div",{className:"indicator"}),i.jsx(E,{className:"icon"})]}),i.jsx("div",{className:"panel"}),k.map((a,t)=>i.jsx(C,{categoryData:a,index:t,selectedCategory:d,isMouseNav:h,keyboardNavEnabled:s,padding:v[t],highlightedLink:r},a.category))]})}export{K as default};
